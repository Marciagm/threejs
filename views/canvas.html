<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Canvas</title>
    <style type="text/css">
        canvas {
            background-color: rgba(100, 0, 200, 0.1);
        }
    </style>
</head>
<body>
    <canvas id="canvas1" width="100" height="100"></canvas>
    
    <canvas id="canvas2" width="400" height="400"></canvas>
    
    <canvas id="canvas3" width="400" height="400"></canvas>
    <hr>
    <canvas id="canvas4" width="300" height="300"></canvas>
    
    <canvas id="canvas5" width="200" height="200"></canvas>

    <canvas id="canvas6" width="200" height="200"></canvas> 
    <hr>
    <canvas id="canvas7" width="200" height="200"></canvas>

    <canvas id="canvas8" width="200" height="200"></canvas>
    <canvas id="canvas9" width="200" height="200"></canvas>

    <canvas id="canvas10" width="200" height="200"></canvas>
    
    <canvas id="canvas11" width="200" height="200"></canvas>
    <br>
    <canvas id="canvas12" width="800" height="800"></canvas>
    <br>
    <canvas id="canvas13" width="200" height="200"></canvas>
    <canvas id="canvas14" width="200" height="200"></canvas>
    
    <canvas id="canvas15" width="200" height="200"></canvas>
    <br>
    <canvas id="canvas16" width="400" height="400"></canvas>

    <canvas id="canvas17" width="400" height="400"></canvas>
    <br>
    <canvas id="canvas18" width="400" height="400"></canvas>
    <script>
        function $ (id) {
            return document.getElementById(id);
        }

        const canvas1 = $('canvas1');
        const ctx1 = canvas1.getContext('2d');

        // fillStyle是属性，不是方法！！
        // 而且因为fillRect是立刻生效的，所以要在执行前就设置style
        // fillStyle和fillRect这些肯定不是canvas1这个dom节点的属性、方法，而是绘制环境的属性和方法
        ctx1.fillStyle = 'rgba(100, 100, 0, 0.5)';
        ctx1.fillRect(10, 10, 80, 80);
        ctx1.clearRect(30, 30, 40, 40);
        ctx1.strokeRect(40, 40, 20, 20)

        const canvas2 = $('canvas2');
        const ctx2 = canvas2.getContext('2d');
        ctx2.lineWidth = 5;
        ctx2.beginPath();
        // true 代表逆时针
        ctx2.arc(75, 75, 50, 0, Math.PI * 2, true);
        ctx2.moveTo(110, 75);
        // mouth
        ctx2.arc(75, 75, 35, 0, Math.PI, false);
        // left eye
        ctx2.moveTo(60, 50);
        // eye
        ctx2.arc(50, 50, 10, 0, Math.PI * 2, true);

        ctx2.moveTo(110, 50);
        ctx2.fillStyle = 'rgb(100, 100, 100)';

        ctx2.arc(100, 50, 10, 0, Math.PI * 2, true);
        ctx2.stroke();

        // two triangles
        const canvas3 = $('canvas3');
        const ctx3 = canvas3.getContext('2d');
        ctx3.beginPath();
        ctx3.lineWidth = 10;
        ctx3.lineJoin = 'round';
        ctx3.moveTo(20, 20);
        ctx3.lineTo(80, 20);
        ctx3.lineTo(20, 80)
        ctx3.fill();
        ctx3.beginPath();
        ctx3.moveTo(100, 40);
        ctx3.lineTo(100, 100);
        ctx3.lineTo(40, 100);
        // connect with the start point
        ctx3.closePath();

        ctx3.stroke();

        const canvas4 = $('canvas4');
        const ctx4 = canvas4.getContext('2d');
        //ctx4.beginPath();
        ctx4.moveTo(200, 50);
        ctx4.arcTo(150, 50, 150, 100, 150);
        ctx4.lineWidth = 10;
        ctx4.lineCap = 'round';
        ctx4.miterLimit = 2;
        //ctx4.fill();
        ctx4.stroke();
        ctx4.lineWidth = 3;
        ctx4.moveTo(200, 200);
        ctx4.lineTo(200, 250);
        ctx4.lineTo(300, 350);
        ctx4.closePath();
        ctx4.stroke();
        const canvas5 = $('canvas5');
        const ctx5 = canvas5.getContext('2d');
        ctx5.lineWidth = 10;
        ctx5.beginPath();
        ctx5.moveTo(75, 25);
        ctx5.quadraticCurveTo(25, 25, 25, 62.5);
        ctx5.quadraticCurveTo(25, 100, 50, 100);
        ctx5.quadraticCurveTo(50, 120, 30, 125);
        ctx5.quadraticCurveTo(60, 120, 65, 100);
        ctx5.quadraticCurveTo(125, 100, 125, 62.5);
        ctx5.quadraticCurveTo(125, 25, 75, 25);
        ctx5.stroke();
        
        const canvas6 = $('canvas6');
        const ctx6 = canvas6.getContext('2d');
        ctx6.lineWidth = 5;
        ctx6.beginPath();
        ctx6.moveTo(75, 40);
        ctx6.bezierCurveTo(75, 37, 70, 25, 50, 25);
        ctx6.bezierCurveTo(20, 25, 20, 62.5, 20, 62.5);
        ctx6.bezierCurveTo(20, 80, 40, 102, 75, 120);
        ctx6.bezierCurveTo(110, 102, 130, 80, 130, 62.5);
        ctx6.bezierCurveTo(130, 62.5, 130, 25, 100, 25);
        ctx6.bezierCurveTo(85, 25, 75, 37, 75, 40);
        ctx6.strokeStyle = '#00ff00';
        ctx6.fillStyle = '#ff0000';
        
        ctx6.stroke();
        ctx6.fill();
        const canvas7 = $('canvas7');
        const ctx7 = canvas7.getContext('2d');
        ctx7.lineWidth = 5;
        ctx7.rect(20, 20, 80, 60);
        //ctx7.fill();
        ctx7.stroke();
        const rec = new Path2D();
        rec.rect(10, 10, 100, 100);
        ctx7.stroke(rec);

        const circle = new Path2D();
        //circle.moveTo(50, 50);
        circle.arc(100, 35, 25, 0, 2 * Math.PI);
        //ctx7.globalAlpha = 0.2;
        //ctx7.strokeStyle = 'rgb(255, 100, 100)';
        ctx7.strokeStyle = '#ff1100';
        ctx7.fill(circle);
        ctx7.stroke(circle);
        const canvas8 = $('canvas8');
        const ctx8 = canvas8.getContext('2d');

        ctx8.lineWidth = 2;
        ctx8.moveTo(20, 20);
        ctx8.lineTo(180, 20);
        ctx8.moveTo(20, 20);
        ctx8.lineTo(20, 180);
        ctx8.stroke();
        for (let i = 1; i < 9; i++) {
            ctx8.strokeStyle = '#' + Math.ceil(Math.random() * i) + Math.ceil(Math.random() * 10) + Math.ceil(Math.random() * i) + Math.ceil(Math.random() * 10) + Math.ceil(Math.random() * 10) + Math.ceil(Math.random() * 10);
            ctx8.lineWidth = 0.5;
            ctx8.moveTo(20, i * 20);
            ctx8.lineTo(180, i * 20);
            ctx8.moveTo(i * 20, 20);
            ctx8.lineTo(i * 20, 180);
            ctx8.fillStyle = 'rgba(255, 120, 10, 1)';
            ctx8.fillRect(i * 20, i * 20, 20, 20);  

            ctx8.fillStyle = 'rgba(255, 120, 10, 0.4)';
            ctx8.fillRect(i * 20 - 5, i * 20 - 5, 30, 30);  
            //ctx8.fill();
            ctx8.stroke();
        }

        const canvas9 = $('canvas9');
        const ctx9 = canvas9.getContext('2d');
        ctx9.beginPath();
        ctx9.lineWidth = 15;
        ctx9.lineJoin = 'round';
        ctx9.moveTo(100, 20);
        ctx9.lineTo(150, 150);
        ctx9.lineTo(50, 150);
        ctx9.closePath();
        
        ctx9.stroke();
        ctx9.fillStyle = 'yellow';
        ctx9.fill();
        ctx9.fillStyle = 'black';
        ctx9.font = '30px bold serif';
        ctx9.fillText('慢', 85, 110);

        const canvas10 = $('canvas10');
        const ctx10 = canvas10.getContext('2d');
        ctx10.setLineDash([10, 3, 7]);
        ctx10.lineDashOffset = 33;
        ctx10.strokeRect(10, 10, 100, 100);
        console.log(ctx10.getLineDash());

        const canvas11 = $('canvas11');
        const ctx11 = canvas11.getContext('2d');
        const linearGradient = ctx11.createLinearGradient(20, 20, 120, 120);
        const radialGradient = ctx11.createRadialGradient(75, 75, 0, 75, 75, 40);

        linearGradient.addColorStop(0, '#ff0000');
        linearGradient.addColorStop(0.1, '#f0f000');
        linearGradient.addColorStop(0.2, '#57f000');
        linearGradient.addColorStop(0.2, 'white');
        linearGradient.addColorStop(0.3, '#26C000');
        linearGradient.addColorStop(1, 'black');
        ctx11.strokeStyle = linearGradient;
        ctx11.fillStyle = linearGradient;
        ctx11.beginPath();
        ctx11.lineTo(10, 10);
        ctx11.lineTo(80, 80);
        ctx11.closePath();
        ctx11.stroke();

        //ctx11.fillRect(10, 10, 80, 80);
        radialGradient.addColorStop(0, '#F4F201');
        radialGradient.addColorStop(0.8, '#E4C700');
        radialGradient.addColorStop(1, 'rgba(228, 199, 0, 0)');
        
        ctx11.fillStyle = radialGradient;
        //ctx11.strokeStyle = radialGradient;
        ctx11.fillRect(10, 10, 180, 180);
        const radialGradient2 = ctx11.createRadialGradient(100, 100, 0, 100, 100, 20);

        radialGradient2.addColorStop(0, '#ff0000');
        radialGradient2.addColorStop(0.1, '#f0f000');
        radialGradient2.addColorStop(0.2, '#57f000');
        radialGradient2.addColorStop(0.2, 'white');
        radialGradient2.addColorStop(0.3, '#26C000');
        radialGradient2.addColorStop(1, 'rgba(0, 201, 255, 0)');
        ctx11.fillStyle = radialGradient2;
        ctx11.fillRect(10, 10, 180, 180);

        //ctx11.strokeRect(40, 40, 140, 140);

        const canvas12 = $('canvas12');
        const ctx12 = canvas12.getContext('2d');
        const img = new Image();
        img.src = "https://mdn.mozillademos.org/files/222/Canvas_createpattern.png";
        img.onload = function () {
            const ptrn = ctx12.createPattern(img, 'repeat');
            ctx12.shadowOffsetX = 60;
            ctx12.shadowOffsetY = 60;
            ctx12.shadowColor = 'rgba(0, 0, 0, 0.1)';
            ctx12.fillStyle = ptrn;
            ctx12.strokeStyle = ptrn;
            ctx12.lineWidth = 10;
            ctx12.strokeRect(100, 100, 500, 500)
            ctx12.fillRect(100, 100, 600, 600);
        }

        const canvas13 = $('canvas13');
        const ctx13 = canvas13.getContext('2d');
        ctx13.arc(50, 50, 30, 0, Math.PI * 2, true);
        ctx13.arc(50, 50, 15, 0, Math.PI * 2, true);
        ctx13.fill('nonzero');
        ctx13.closePath();
        ctx13.moveTo(100, 100);
        ctx13.arc(100, 100, 30, 0, Math.PI * 2, true);
        ctx13.arc(100, 100, 15, 0, Math.PI * 2, true);
        ctx13.fill('evenodd');

        const canvas14 = $('canvas14');
        const ctx14 = canvas14.getContext('2d');
        ctx14.font = '28px serif';
        ctx14.textAlign = 'left';
        ctx14.fillText('canvas14', 80, 40);
        ctx14.strokeText('Again', 80, 80);
        console.log(ctx14.measureText('canvas14'));

        const canvas15 = $('canvas15');
        const ctx15 = canvas15.getContext('2d');
        const img15 = new Image();
        img15.src = "https://mdn.mozillademos.org/files/5395/backdrop.png";
        img15.onload = function () {
            ctx15.drawImage(img15, 0, 0, 200, 200);
            ctx15.beginPath();
            ctx15.moveTo(30, 96);
            ctx15.lineTo(70, 66);
            ctx15.lineTo(103, 76);
            ctx15.lineTo(170, 15);
            ctx15.stroke();
        }

        const canvas16 = $('canvas16');
        const ctx16 = canvas16.getContext('2d');
        ctx16.fillRect(0, 0, 150, 150);
        ctx16.save();
        
        ctx16.fillStyle = '#09f';
        ctx16.fillRect(15, 15, 120, 120);
        ctx16.save();

        ctx16.fillStyle = '#fff';
        ctx16.globalAlpha = 0.5;
        ctx16.fillRect(30, 30, 90, 90);

        ctx16.restore();
        ctx16.fillRect(45, 45, 60, 60);

        ctx16.restore();
        ctx16.fillRect(60, 60, 30, 30);
        
        ctx16.translate(90, 90);
        ctx16.save();
        ctx16.rotate((Math.PI  / 180 ) * 35);
        //ctx16.restore();
        ctx16.save();
        ctx16.fillRect(60, 60, 160, 160);

        ctx16.restore();
        ctx16.restore();
        ctx16.translate(40, 0);
        ctx16.fillRect(50, 50, 60, 60);
        ctx16.translate(40, 40);
        ctx16.fillRect(120, 120, 60, 60);
        
        const canvas17 = $('canvas17');
        const ctx17 = canvas17.getContext('2d');
        ctx17.fillRect(100, 100, 100, 100);
        ctx17.fillStyle = '#09f';
        ctx17.save();
        ctx17.scale(2, 2);
        ctx17.fillRect(100, 100, 100, 100);
        ctx17.restore();
        ctx17.fillStyle = '#0ff';
        ctx17.fillRect(100, 100, 100, 100);
        ctx17.save();
        ctx17.scale(1.5, 1);   
        ctx17.fillStyle = '#ff0';
        ctx17.fillRect(100, 100, 100, 100); 
        ctx17.scale(1.5, 1);
        ctx17.fillStyle = '#f0f';
        ctx17.fillRect(100, 100, 100, 100); 
        ctx17.scale(1, 2.25);
        ctx17.scale(-1.5, 1);
        ctx17.strokeText('Hello', -50, 90);

        const cavans18 = $('canvas18');
        const ctx18 = canvas18.getContext('2d');
        //ctx18.transform(1, 10, 10, 1, 0, 0);
        //ctx18.fillRect(10, 10, 20, 10);
        ctx18.fillRect(0, 0, 400, 400);
        //ctx18.translate(10, 10);
        ctx18.beginPath();
        ctx18.arc(200, 200, 200, 0, Math.PI * 2, true);
        ctx18.clip();

        const lingrad = ctx18.createLinearGradient(0, -75, 0, 75);
        lingrad.addColorStop(0, '#232256');
        lingrad.addColorStop(1, '#143778');

        ctx18.fillStyle = lingrad;
        ctx18.fillRect(0, 0, 400, 400);

        for (let i = 0; i < 100; i++) {
            ctx18.save();
            ctx18.fillStyle = '#fff';
            ctx18.translate(400 - Math.floor(Math.random() * 400), 
                            400- Math.floor(Math.random() * 400));

            drawStar(ctx18, Math.floor(Math.random() * 4) + 4);
            ctx18.restore();
        }

        function drawStar (ctx, r) {
            ctx.save();
            ctx.beginPath();
            ctx.moveTo(r, 0);
            console.log('r: ' + r);
            for (let i = 0; i < 9; i++) {
                ctx.rotate(Math.PI / 5);
                if (i % 2 === 0) {
                    ctx.lineTo((r / 0.525731) * 0.200811, 0);
                }
                else {
                    ctx.lineTo(r, 0);
                }
            }
            ctx.closePath();
            ctx.fill();
            ctx.restore();
        }

    </script>
</body>
</html>